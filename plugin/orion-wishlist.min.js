!function(e){var t=jQuery;if("function"==typeof t.OrionWishlist)return;let s={elements:{shelf:{selector:".cf-storefront.main",attrId:"data-product-id"}},wishlistPage:{idShelf:"7b8f00bc-2a4d-48fe-a944-4d8addf61af0",elements:{itemsUser:".cf-development.user-list",menssageEmpty:".cf-development.empty",loader:".cf-development.loader"}},entity:{name:"development",body:"cf-body"},total:{element:".icon-wishlist"},modal:{applySweetalert:!0,textConfirm:"Lista de desejos atualizada!"}};t.OrionWishlist=function(e){e=t.extend(!0,{},s,e);let o=t(e.elements.shelf.selector),a=e.elements.shelf.attrId,l={shelf:{add:".o-shelf-wishlist--button.add",remove:".o-shelf-wishlist--button.remove"},products:{add:".o-product-wishlist--button.add",remove:".o-product-wishlist--button.remove"},user:{remove:".o-shelf-wishlist-user--button.remove"}},n={dataUserParsed:null};if(i(),c(),t(document.body).is(".product")&&(d(),r()),localStorage&&localStorage.OW_listUser&&localStorage.OW_listUser.length){let s=JSON.parse(localStorage.OW_listUser);n.dataUserParsed=s,s.useritems.length?(t(document.body).is(".product")&&m(),t(document.body).is(".wishlist")&&I(),p(),f(),x(),t(e.wishlistPage.elements.loader).addClass("hide")):(x(),t(document.body).is(".wishlist")&&h())}else vtexjs.checkout.getOrderForm().done(function(s){s.clientProfileData&&null!=s.clientProfileData.email?function(s){let o=s.clientProfileData.email;t.ajax({type:"GET",url:`/api/dataentities/${e.entity.name}/search?_schema=${e.entity.body}&email=${o}`,dataType:"json",contentType:"application/json",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8"}}).done(function(o){o.length?(localStorage.setItem("OW_listUser",JSON.stringify(o[0])),n.dataUserParsed=o[0],t(document.body).is(".product")&&m(),t(document.body).is(".wishlist")&&I(),p(),f(),x()):(!function(s){let o={email:s.clientProfileData.email,useritems:[]};t.ajax({type:"POST",url:`/api/dataentities/${e.entity.name}/documents?_schema=${e.entity.body}`,dataType:"json",contentType:"application/json",headers:{Accept:"application/vnd.vtex.ds.v10+json","Content-Type":"application/json; charset=utf-8"},data:JSON.stringify(o)}).done(function(e){o.id=e.DocumentId,localStorage.setItem("OW_listUser",JSON.stringify(o))})}(s),x())})}(s):(x(),t(document.body).is(".wishlist")&&h())});function d(){t(document).one("click",l.products.add,function(e){if(null==n.dataUserParsed)U();else{let e=n.dataUserParsed.useritems;null==e?e=[skuJson.productId]:e.push(skuJson.productId),v({id:n.dataUserParsed.id,email:n.dataUserParsed.email,useritems:e})}})}function i(){t(document).one("click",l.shelf.add,function(s){if(null==n.dataUserParsed)U();else{let s=t(this).closest(e.elements.shelf.selector).attr(e.elements.shelf.attrId);s=parseInt(s);let o=n.dataUserParsed.useritems;null==o?o=[s]:o.push(s),v({id:n.dataUserParsed.id,email:n.dataUserParsed.email,useritems:o})}})}function r(){t(document).one("click",l.products.remove,function(e){let t=n.dataUserParsed.useritems.filter(function(e){return e!==skuJson.productId});t.length||(t=[]),v({id:n.dataUserParsed.id,email:n.dataUserParsed.email,useritems:t})})}function c(){t(document).one("click",l.shelf.remove,function(s){let o=t(this).closest(e.elements.shelf.selector).attr(e.elements.shelf.attrId);o=parseInt(o);let a=n.dataUserParsed.useritems.filter(function(e){return e!==o});a.length||(a=[]),v({id:n.dataUserParsed.id,email:n.dataUserParsed.email,useritems:a})})}function u(){t(document).one("click",l.user.remove,function(s){let o=t(this).closest(e.elements.shelf.selector).attr(e.elements.shelf.attrId);o=parseInt(o);let a=n.dataUserParsed.useritems.filter(function(e){return e!==o});a.length||(a=[]),v({id:n.dataUserParsed.id,email:n.dataUserParsed.email,useritems:a})})}function m(){let e=!1;n.dataUserParsed.useritems.forEach(t=>{t==skuJson.productId&&(e=!0)}),e&&(t(l.products.add).addClass("hide"),t(l.products.remove).removeClass("hide"))}function f(){o.each(function(){let e=t(this),s=e.attr(a);n.dataUserParsed.useritems.find(function(e){return e==s})&&(e.find(l.shelf.add).addClass("hide"),e.find(l.shelf.remove).removeClass("hide"))})}function I(){let s=t(e.wishlistPage.elements.itemsUser),o=null;n.dataUserParsed.useritems.forEach((e,t,s)=>{o=0==t?`fq=productId:${e}`:`${o}&fq=productId:${e}`});const a=`/buscapagina?${o}&PS=50&sl=${e.wishlistPage.idShelf}&cc=1&sm=0`;t.ajax({type:"GET",url:a}).done(function(e){s.append(e),u(),x()})}function p(){let s=t(e.total.element),o=n.dataUserParsed.useritems.length||0;s.text(o)}function h(){t(e.wishlistPage.elements.loader).addClass("hide"),t(e.wishlistPage.elements.menssageEmpty).removeClass("hide")}function v(s){let o=n.dataUserParsed.id;t.ajax({type:"PATCH",url:`/api/dataentities/${e.entity.name}/documents/${o}?_schema=${e.entity.body}`,dataType:"json",contentType:"application/json",headers:{"Content-Type":"application/json",Accept:"application/vnd.vtex.ds.v10+json"},data:JSON.stringify(s)}).done(function(t){localStorage.setItem("OW_listUser",JSON.stringify(s)),1==e.modal.applySweetalert?"undefined"==typeof swal?(alert(e.modal.textConfirm),location.reload()):swal({title:e.modal.textConfirm,icon:"success"}).then(()=>{location.reload()}):0==e.modal.applySweetalert&&(alert(e.modal.textConfirm),location.reload())})}function U(){if(null==n.dataUserParsed)return vtexid.start(),void function(){let e=setInterval(function(){t("#vtexIdContainer.ng-scope").length&&(clearInterval(e),t("#vtexIdContainer.ng-scope").find("#vtexIdUI-confirm-access-code .close.vtexIdUI-close,#vtexIdUI-auth-selector .close.vtexIdUI-close,#vtexIdUI-classic-login .close.vtexIdUI-close,#vtexIdUI-email-confirmation .close.vtexIdUI-close,#vtexIdUI-mfa-phone-number-confirmation .close.vtexIdUI-close,#vtexIdUI-mfa-code-confirmation .close.vtexIdUI-close,#vtexIdUI-logout .close.vtexIdUI-close,#texIdUI-multiple-link-account .close.vtexIdUI-close,#vtexIdUI-change-pswd .close.vtexIdUI-close,#vtexIdUI-change-exp-pswd .close.vtexIdUI-close,#vtexIdUI-force-mfa-new-user .close.vtexIdUI-close,#vtexIdUI-force-mfa-mandatory .close.vtexIdUI-close,#vtexIdUI-configure-user-MFA .close.vtexIdUI-close,#vtexIdUI-show-message-and-redirect .close.vtexIdUI-close,#vtexIdUI-realod-page-message .close.vtexIdUI-close,#vtexIdUI-jsError-component .close.vtexIdUI-close,#vtexIdUI-choose-mfa-login-type .close.vtexIdUI-close,#vtexIdUI-configure-mfa-application .close.vtexIdUI-close,#vtexIdUI-force-mfa-date-reminder .close.vtexIdUI-close").on("click",function(){i(),c(),t(document.body).is(".product")&&(d(),r()),t(document.body).is(".wishlist")&&u()}))},50)}()}function x(){t(".o-shelf-wishlist--button, .o-product-wishlist--button, .o-shelf-wishlist-user--button").removeClass("button-loaded")}}}();